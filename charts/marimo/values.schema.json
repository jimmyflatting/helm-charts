{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Marimo Helm Chart Values",
    "type": "object",
    "properties": {
      "replicaCount": {
        "type": "integer",
        "minimum": 1,
        "default": 1,
        "description": "Number of replicas for the Marimo service."
      },
      "image": {
        "type": "object",
        "properties": {
          "repository": {
            "type": "string",
            "default": "marimo",
            "description": "Docker image repository for Marimo."
          },
          "tag": {
            "type": "string",
            "default": "latest",
            "description": "Docker image tag."
          },
          "pullPolicy": {
            "type": "string",
            "enum": ["Always", "IfNotPresent", "Never"],
            "default": "IfNotPresent",
            "description": "Pull policy for the image."
          }
        },
        "required": ["repository", "tag"]
      },
      "service": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["ClusterIP", "NodePort", "LoadBalancer"],
            "default": "ClusterIP",
            "description": "Service type."
          },
          "port": {
            "type": "integer",
            "minimum": 1,
            "maximum": 65535,
            "default": 80,
            "description": "Port on which the service is exposed."
          }
        },
        "required": ["type", "port"]
      },
      "ingress": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean",
            "default": false,
            "description": "Enable ingress."
          },
          "annotations": {
            "type": "object",
            "additionalProperties": { "type": "string" },
            "description": "Annotations for the ingress resource."
          },
          "hosts": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "host": {
                  "type": "string",
                  "description": "Hostname for the ingress."
                },
                "paths": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "path": {
                        "type": "string",
                        "default": "/",
                        "description": "Path within the host."
                      },
                      "pathType": {
                        "type": "string",
                        "enum": ["ImplementationSpecific", "Prefix", "Exact"],
                        "default": "ImplementationSpecific",
                        "description": "Path matching behavior."
                      }
                    },
                    "required": ["path", "pathType"]
                  }
                }
              },
              "required": ["host", "paths"]
            }
          },
          "tls": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "hosts": {
                  "type": "array",
                  "items": { "type": "string" },
                  "description": "TLS hosts."
                },
                "secretName": {
                  "type": "string",
                  "description": "Name of the secret containing TLS certificate."
                }
              },
              "required": ["hosts", "secretName"]
            }
          }
        }
      },
      "resources": {
        "type": "object",
        "properties": {
          "limits": {
            "type": "object",
            "properties": {
              "cpu": { "type": "string", "description": "CPU limit." },
              "memory": { "type": "string", "description": "Memory limit." }
            }
          },
          "requests": {
            "type": "object",
            "properties": {
              "cpu": { "type": "string", "description": "CPU request." },
              "memory": { "type": "string", "description": "Memory request." }
            }
          }
        }
      },
      "nodeSelector": {
        "type": "object",
        "additionalProperties": { "type": "string" },
        "description": "Node selector for pod scheduling."
      },
      "tolerations": {
        "type": "array",
        "items": { "type": "object" },
        "description": "Tolerations for scheduling onto tainted nodes."
      },
      "affinity": {
        "type": "object",
        "description": "Pod affinity and anti-affinity rules."
      }
    },
    "required": ["replicaCount", "image", "service"]
  }
  